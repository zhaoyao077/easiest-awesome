{
  "url": "https://api.github.com/repos/apache/spark/issues/40729",
  "repository_url": "https://api.github.com/repos/apache/spark",
  "labels_url": "https://api.github.com/repos/apache/spark/issues/40729/labels{/name}",
  "comments_url": "https://api.github.com/repos/apache/spark/issues/40729/comments",
  "events_url": "https://api.github.com/repos/apache/spark/issues/40729/events",
  "html_url": "https://github.com/apache/spark/pull/40729",
  "id": 1661487776,
  "node_id": "PR_kwDOAQXtWs5N-MOJ",
  "number": 40729,
  "title": "[SPARK-43136][CONNECT] Adding groupByKey + mapGroup + coGroup functions",
  "user": {
    "login": "zhenlineo",
    "id": 4190164,
    "node_id": "MDQ6VXNlcjQxOTAxNjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4190164?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zhenlineo",
    "html_url": "https://github.com/zhenlineo",
    "followers_url": "https://api.github.com/users/zhenlineo/followers",
    "following_url": "https://api.github.com/users/zhenlineo/following{/other_user}",
    "gists_url": "https://api.github.com/users/zhenlineo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zhenlineo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zhenlineo/subscriptions",
    "organizations_url": "https://api.github.com/users/zhenlineo/orgs",
    "repos_url": "https://api.github.com/users/zhenlineo/repos",
    "events_url": "https://api.github.com/users/zhenlineo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zhenlineo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1405794576,
      "node_id": "MDU6TGFiZWwxNDA1Nzk0NTc2",
      "url": "https://api.github.com/repos/apache/spark/labels/SQL",
      "name": "SQL",
      "color": "ededed",
      "default": false,
      "description": null
    },
    {
      "id": 1981527456,
      "node_id": "MDU6TGFiZWwxOTgxNTI3NDU2",
      "url": "https://api.github.com/repos/apache/spark/labels/CORE",
      "name": "CORE",
      "color": "ededed",
      "default": false,
      "description": null
    },
    {
      "id": 1982260031,
      "node_id": "MDU6TGFiZWwxOTgyMjYwMDMx",
      "url": "https://api.github.com/repos/apache/spark/labels/PYTHON",
      "name": "PYTHON",
      "color": "ededed",
      "default": false,
      "description": null
    },
    {
      "id": 4556440342,
      "node_id": "LA_kwDOAQXtWs8AAAABD5XDFg",
      "url": "https://api.github.com/repos/apache/spark/labels/CONNECT",
      "name": "CONNECT",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2023-04-10T22:40:26Z",
  "updated_at": "2023-04-25T20:58:01Z",
  "closed_at": "2023-04-25T20:58:01Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/apache/spark/pulls/40729",
    "html_url": "https://github.com/apache/spark/pull/40729",
    "diff_url": "https://github.com/apache/spark/pull/40729.diff",
    "patch_url": "https://github.com/apache/spark/pull/40729.patch",
    "merged_at": null
  },
  "body": "### What changes were proposed in this pull request?\r\nThis PR adds the mapGroup and coGroup support for Scala client.\r\nThe client exposes the same SQL API to users, but uses an internal impl of the `KeyValueGroupedDatasetImpl` to keep track of initial types of the grouping keys and values. This is needed to support `keyAs` and `mapValues` type modifications to the dataset.\r\n\r\nIt adds one the sorting expression into the proto so that the sorting expressions can be passed to the server.\r\n\r\n### Why are the changes needed?\r\nAPI completion.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nAdd new Scala Client `KeyValueGroupedDataset` APIs.\r\n\r\n### How was this patch tested?\r\nClient E2E tests that only work for SBT due to UDFUtil not synced to the server with maven build.\r\nThe maven tests will be address in a follow up [PR](https://github.com/apache/spark/pull/40762)",
  "closed_by": {
    "login": "hvanhovell",
    "id": 9616802,
    "node_id": "MDQ6VXNlcjk2MTY4MDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9616802?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hvanhovell",
    "html_url": "https://github.com/hvanhovell",
    "followers_url": "https://api.github.com/users/hvanhovell/followers",
    "following_url": "https://api.github.com/users/hvanhovell/following{/other_user}",
    "gists_url": "https://api.github.com/users/hvanhovell/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hvanhovell/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hvanhovell/subscriptions",
    "organizations_url": "https://api.github.com/users/hvanhovell/orgs",
    "repos_url": "https://api.github.com/users/hvanhovell/repos",
    "events_url": "https://api.github.com/users/hvanhovell/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hvanhovell/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/apache/spark/issues/40729/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/apache/spark/issues/40729/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
