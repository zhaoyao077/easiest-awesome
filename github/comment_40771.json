[
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1507881376",
    "html_url": "https://github.com/apache/spark/pull/40771#issuecomment-1507881376",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40771",
    "id": 1507881376,
    "node_id": "IC_kwDOAQXtWs5Z4HGg",
    "user": {
      "login": "dfercode",
      "id": 49986318,
      "node_id": "MDQ6VXNlcjQ5OTg2MzE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/49986318?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dfercode",
      "html_url": "https://github.com/dfercode",
      "followers_url": "https://api.github.com/users/dfercode/followers",
      "following_url": "https://api.github.com/users/dfercode/following{/other_user}",
      "gists_url": "https://api.github.com/users/dfercode/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dfercode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dfercode/subscriptions",
      "organizations_url": "https://api.github.com/users/dfercode/orgs",
      "repos_url": "https://api.github.com/users/dfercode/repos",
      "events_url": "https://api.github.com/users/dfercode/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dfercode/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-14T03:37:05Z",
    "updated_at": "2023-04-14T03:37:05Z",
    "author_association": "NONE",
    "body": "cc  @dongjoon-hyun @yaooqinn @Yikun, can anyone help review?",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1507881376/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1507965774",
    "html_url": "https://github.com/apache/spark/pull/40771#issuecomment-1507965774",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40771",
    "id": 1507965774,
    "node_id": "IC_kwDOAQXtWs5Z4btO",
    "user": {
      "login": "yaooqinn",
      "id": 8326978,
      "node_id": "MDQ6VXNlcjgzMjY5Nzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8326978?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yaooqinn",
      "html_url": "https://github.com/yaooqinn",
      "followers_url": "https://api.github.com/users/yaooqinn/followers",
      "following_url": "https://api.github.com/users/yaooqinn/following{/other_user}",
      "gists_url": "https://api.github.com/users/yaooqinn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yaooqinn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yaooqinn/subscriptions",
      "organizations_url": "https://api.github.com/users/yaooqinn/orgs",
      "repos_url": "https://api.github.com/users/yaooqinn/repos",
      "events_url": "https://api.github.com/users/yaooqinn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yaooqinn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-14T06:03:02Z",
    "updated_at": "2023-04-14T06:03:02Z",
    "author_association": "MEMBER",
    "body": "> The cpu limits are set by spark.kubernetes.{driver,executor}.limit.cores. The cpu is set by spark.{driver,executor}.cores. The memory request and limit are set by summing the values of spark.{driver,executor}.memory and spark.{driver,executor}.memoryOverhead. Other resource limits are set by spark.{driver,executor}.resources.{resourceName}.* configs.\r\n\r\nReferring to the doc, we can actually set driver pod memory alone  ",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1507965774/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1507988511",
    "html_url": "https://github.com/apache/spark/pull/40771#issuecomment-1507988511",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40771",
    "id": 1507988511,
    "node_id": "IC_kwDOAQXtWs5Z4hQf",
    "user": {
      "login": "dfercode",
      "id": 49986318,
      "node_id": "MDQ6VXNlcjQ5OTg2MzE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/49986318?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dfercode",
      "html_url": "https://github.com/dfercode",
      "followers_url": "https://api.github.com/users/dfercode/followers",
      "following_url": "https://api.github.com/users/dfercode/following{/other_user}",
      "gists_url": "https://api.github.com/users/dfercode/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dfercode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dfercode/subscriptions",
      "organizations_url": "https://api.github.com/users/dfercode/orgs",
      "repos_url": "https://api.github.com/users/dfercode/repos",
      "events_url": "https://api.github.com/users/dfercode/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dfercode/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-14T06:25:00Z",
    "updated_at": "2023-04-14T06:59:42Z",
    "author_association": "NONE",
    "body": "> > The cpu limits are set by spark.kubernetes.{driver,executor}.limit.cores. The cpu is set by spark.{driver,executor}.cores. The memory request and limit are set by summing the values of spark.{driver,executor}.memory and spark.{driver,executor}.memoryOverhead. Other resource limits are set by spark.{driver,executor}.resources.{resourceName}.* configs.\r\n> \r\n> Referring to the doc, we can actually set driver pod memory alone\r\n\r\nIt`s about container memory request&limit, not about the driver or exec.\r\nCurrent code is setting the pod request.memory and limit.memory in the **same value** from by summing the values of spark.{driver,executor}.memory and spark.{driver,executor}.memoryOverhead.\r\nBut request.memory and limit.memory are different kind of params from k8s, always keep same value may not a good practice. In most case the request memory quota we can get is always smaller than limit.memory from infrastructure team. If spark pods request.memory can only same as limit.memory, then total memory we can use is based on the smaller one, thus can not fully use the memory resource.\r\nrequests 定义了对应的容器所需要的最小资源量。\r\nlimits 定义了对应容器最大可以消耗的资源上限。",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1507988511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1512567363",
    "html_url": "https://github.com/apache/spark/pull/40771#issuecomment-1512567363",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40771",
    "id": 1512567363,
    "node_id": "IC_kwDOAQXtWs5aJ_JD",
    "user": {
      "login": "zwangsheng",
      "id": 52876270,
      "node_id": "MDQ6VXNlcjUyODc2Mjcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/52876270?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zwangsheng",
      "html_url": "https://github.com/zwangsheng",
      "followers_url": "https://api.github.com/users/zwangsheng/followers",
      "following_url": "https://api.github.com/users/zwangsheng/following{/other_user}",
      "gists_url": "https://api.github.com/users/zwangsheng/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zwangsheng/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zwangsheng/subscriptions",
      "organizations_url": "https://api.github.com/users/zwangsheng/orgs",
      "repos_url": "https://api.github.com/users/zwangsheng/repos",
      "events_url": "https://api.github.com/users/zwangsheng/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zwangsheng/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-18T07:15:43Z",
    "updated_at": "2023-04-18T07:15:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "There was a discussion about this on the spark dev mailing list earlier, hope it helps you.\r\n[spark executor pod has same memory value for request and limit](https://www.mail-archive.com/search?l=dev@spark.apache.org&q=subject:%22spark+executor+pod+has+same+memory+value+for+request+and+limit%22&o=newest)",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1512567363/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1512582985",
    "html_url": "https://github.com/apache/spark/pull/40771#issuecomment-1512582985",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40771",
    "id": 1512582985,
    "node_id": "IC_kwDOAQXtWs5aKC9J",
    "user": {
      "login": "dfercode",
      "id": 49986318,
      "node_id": "MDQ6VXNlcjQ5OTg2MzE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/49986318?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dfercode",
      "html_url": "https://github.com/dfercode",
      "followers_url": "https://api.github.com/users/dfercode/followers",
      "following_url": "https://api.github.com/users/dfercode/following{/other_user}",
      "gists_url": "https://api.github.com/users/dfercode/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dfercode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dfercode/subscriptions",
      "organizations_url": "https://api.github.com/users/dfercode/orgs",
      "repos_url": "https://api.github.com/users/dfercode/repos",
      "events_url": "https://api.github.com/users/dfercode/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dfercode/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-18T07:24:52Z",
    "updated_at": "2023-04-18T07:24:52Z",
    "author_association": "NONE",
    "body": "> \r\n\r\n@zwangsheng do we have any timeline to add this feature？",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1512582985/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1512608100",
    "html_url": "https://github.com/apache/spark/pull/40771#issuecomment-1512608100",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40771",
    "id": 1512608100,
    "node_id": "IC_kwDOAQXtWs5aKJFk",
    "user": {
      "login": "zwangsheng",
      "id": 52876270,
      "node_id": "MDQ6VXNlcjUyODc2Mjcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/52876270?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zwangsheng",
      "html_url": "https://github.com/zwangsheng",
      "followers_url": "https://api.github.com/users/zwangsheng/followers",
      "following_url": "https://api.github.com/users/zwangsheng/following{/other_user}",
      "gists_url": "https://api.github.com/users/zwangsheng/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zwangsheng/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zwangsheng/subscriptions",
      "organizations_url": "https://api.github.com/users/zwangsheng/orgs",
      "repos_url": "https://api.github.com/users/zwangsheng/repos",
      "events_url": "https://api.github.com/users/zwangsheng/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zwangsheng/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-18T07:43:10Z",
    "updated_at": "2023-04-18T07:43:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "> spark executor pod has same memory value for request and limit\r\n\r\nYou can found this in the mail discussion:\r\n> There is a very good reason for this. It is recommended using k8s that you set \r\nmemory request and limit to the same value, set a cpu request, but not a cpu \r\nlimit. More info here https://home.robusta.dev/blog/kubernetes-memory-limit",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1512608100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
