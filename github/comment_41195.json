[
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1551422222",
    "html_url": "https://github.com/apache/spark/pull/41195#issuecomment-1551422222",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41195",
    "id": 1551422222,
    "node_id": "IC_kwDOAQXtWs5ceNMO",
    "user": {
      "login": "srowen",
      "id": 822522,
      "node_id": "MDQ6VXNlcjgyMjUyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/822522?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srowen",
      "html_url": "https://github.com/srowen",
      "followers_url": "https://api.github.com/users/srowen/followers",
      "following_url": "https://api.github.com/users/srowen/following{/other_user}",
      "gists_url": "https://api.github.com/users/srowen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srowen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srowen/subscriptions",
      "organizations_url": "https://api.github.com/users/srowen/orgs",
      "repos_url": "https://api.github.com/users/srowen/repos",
      "events_url": "https://api.github.com/users/srowen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srowen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-17T13:41:29Z",
    "updated_at": "2023-05-17T13:41:29Z",
    "author_association": "MEMBER",
    "body": "Can you explain this more - your steps to reproduce require you to remove files from the build, and that causes the problem? but the JARs were there before you removed them. How does removing the scope change the result?",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1551422222/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1551463081",
    "html_url": "https://github.com/apache/spark/pull/41195#issuecomment-1551463081",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41195",
    "id": 1551463081,
    "node_id": "IC_kwDOAQXtWs5ceXKp",
    "user": {
      "login": "wangyum",
      "id": 5399861,
      "node_id": "MDQ6VXNlcjUzOTk4NjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5399861?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wangyum",
      "html_url": "https://github.com/wangyum",
      "followers_url": "https://api.github.com/users/wangyum/followers",
      "following_url": "https://api.github.com/users/wangyum/following{/other_user}",
      "gists_url": "https://api.github.com/users/wangyum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wangyum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wangyum/subscriptions",
      "organizations_url": "https://api.github.com/users/wangyum/orgs",
      "repos_url": "https://api.github.com/users/wangyum/repos",
      "events_url": "https://api.github.com/users/wangyum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wangyum/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-17T14:05:47Z",
    "updated_at": "2023-05-17T14:05:47Z",
    "author_association": "MEMBER",
    "body": "Thank you @srowen. I have updated the PR description.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1551463081/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1551701267",
    "html_url": "https://github.com/apache/spark/pull/41195#issuecomment-1551701267",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41195",
    "id": 1551701267,
    "node_id": "IC_kwDOAQXtWs5cfRUT",
    "user": {
      "login": "srowen",
      "id": 822522,
      "node_id": "MDQ6VXNlcjgyMjUyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/822522?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srowen",
      "html_url": "https://github.com/srowen",
      "followers_url": "https://api.github.com/users/srowen/followers",
      "following_url": "https://api.github.com/users/srowen/following{/other_user}",
      "gists_url": "https://api.github.com/users/srowen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srowen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srowen/subscriptions",
      "organizations_url": "https://api.github.com/users/srowen/orgs",
      "repos_url": "https://api.github.com/users/srowen/repos",
      "events_url": "https://api.github.com/users/srowen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srowen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-17T16:17:39Z",
    "updated_at": "2023-05-17T16:17:39Z",
    "author_association": "MEMBER",
    "body": "It seems weird that log4j 2 config works, if you add log4j 1.x. Maybe so, just trying to figure out if this is really what's going on and if we have to let log4j 1.x back in? because then we have both log4j in the distribution",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1551701267/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1552245794",
    "html_url": "https://github.com/apache/spark/pull/41195#issuecomment-1552245794",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41195",
    "id": 1552245794,
    "node_id": "IC_kwDOAQXtWs5chWQi",
    "user": {
      "login": "Kimahriman",
      "id": 3536454,
      "node_id": "MDQ6VXNlcjM1MzY0NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3536454?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kimahriman",
      "html_url": "https://github.com/Kimahriman",
      "followers_url": "https://api.github.com/users/Kimahriman/followers",
      "following_url": "https://api.github.com/users/Kimahriman/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kimahriman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kimahriman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kimahriman/subscriptions",
      "organizations_url": "https://api.github.com/users/Kimahriman/orgs",
      "repos_url": "https://api.github.com/users/Kimahriman/repos",
      "events_url": "https://api.github.com/users/Kimahriman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kimahriman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-18T00:24:46Z",
    "updated_at": "2023-05-18T00:24:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "Maybe similar reason I made https://github.com/apache/spark/pull/37694 a while ago? Basically Spark logging setup assumes log4j2, but with hadoop provided you get 1.x from Hadoop. So you get weird logging behavior. We just have both providers in the class path and slf seems to pick the 2.x one",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1552245794/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1554550499",
    "html_url": "https://github.com/apache/spark/pull/41195#issuecomment-1554550499",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41195",
    "id": 1554550499,
    "node_id": "IC_kwDOAQXtWs5cqI7j",
    "user": {
      "login": "srowen",
      "id": 822522,
      "node_id": "MDQ6VXNlcjgyMjUyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/822522?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srowen",
      "html_url": "https://github.com/srowen",
      "followers_url": "https://api.github.com/users/srowen/followers",
      "following_url": "https://api.github.com/users/srowen/following{/other_user}",
      "gists_url": "https://api.github.com/users/srowen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srowen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srowen/subscriptions",
      "organizations_url": "https://api.github.com/users/srowen/orgs",
      "repos_url": "https://api.github.com/users/srowen/repos",
      "events_url": "https://api.github.com/users/srowen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srowen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T13:10:55Z",
    "updated_at": "2023-05-19T13:10:55Z",
    "author_association": "MEMBER",
    "body": "Seems reasonable then. Let's just get the tests to run again.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1554550499/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1555080586",
    "html_url": "https://github.com/apache/spark/pull/41195#issuecomment-1555080586",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41195",
    "id": 1555080586,
    "node_id": "IC_kwDOAQXtWs5csKWK",
    "user": {
      "login": "Kimahriman",
      "id": 3536454,
      "node_id": "MDQ6VXNlcjM1MzY0NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3536454?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kimahriman",
      "html_url": "https://github.com/Kimahriman",
      "followers_url": "https://api.github.com/users/Kimahriman/followers",
      "following_url": "https://api.github.com/users/Kimahriman/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kimahriman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kimahriman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kimahriman/subscriptions",
      "organizations_url": "https://api.github.com/users/Kimahriman/orgs",
      "repos_url": "https://api.github.com/users/Kimahriman/repos",
      "events_url": "https://api.github.com/users/Kimahriman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kimahriman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T18:37:31Z",
    "updated_at": "2023-05-19T18:38:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Actually hit a new issue related to this after finally being able to test out Spark 3.4 from the Delta release. Because of the bump to slf4j 2, it seems `log4j-slf4j2-impl` doesn't get recognized, so it always falls back to the log4j/reload4j 1.x for logging. I had to also include slf4j-api 2.0.6 to get Spark's built-in log handling to work correctly (i.e. `SparkContext.setLogLevel`)",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1555080586/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1555428658",
    "html_url": "https://github.com/apache/spark/pull/41195#issuecomment-1555428658",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41195",
    "id": 1555428658,
    "node_id": "IC_kwDOAQXtWs5ctfUy",
    "user": {
      "login": "wangyum",
      "id": 5399861,
      "node_id": "MDQ6VXNlcjUzOTk4NjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5399861?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wangyum",
      "html_url": "https://github.com/wangyum",
      "followers_url": "https://api.github.com/users/wangyum/followers",
      "following_url": "https://api.github.com/users/wangyum/following{/other_user}",
      "gists_url": "https://api.github.com/users/wangyum/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wangyum/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wangyum/subscriptions",
      "organizations_url": "https://api.github.com/users/wangyum/orgs",
      "repos_url": "https://api.github.com/users/wangyum/repos",
      "events_url": "https://api.github.com/users/wangyum/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wangyum/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-20T02:16:52Z",
    "updated_at": "2023-05-20T02:16:52Z",
    "author_association": "MEMBER",
    "body": "@Kimahriman Do you have a way to reproduce?",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1555428658/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1555905091",
    "html_url": "https://github.com/apache/spark/pull/41195#issuecomment-1555905091",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41195",
    "id": 1555905091,
    "node_id": "IC_kwDOAQXtWs5cvTpD",
    "user": {
      "login": "Kimahriman",
      "id": 3536454,
      "node_id": "MDQ6VXNlcjM1MzY0NTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3536454?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kimahriman",
      "html_url": "https://github.com/Kimahriman",
      "followers_url": "https://api.github.com/users/Kimahriman/followers",
      "following_url": "https://api.github.com/users/Kimahriman/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kimahriman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kimahriman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kimahriman/subscriptions",
      "organizations_url": "https://api.github.com/users/Kimahriman/orgs",
      "repos_url": "https://api.github.com/users/Kimahriman/repos",
      "events_url": "https://api.github.com/users/Kimahriman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kimahriman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-20T12:50:35Z",
    "updated_at": "2023-05-20T12:50:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Nevermind it looks like including `log4j-1.2-api` actually fixes the issue, I wasn't including that before. In fact, just including `log4j-1.2-api` fixes the issue I made for https://issues.apache.org/jira/browse/SPARK-40246. That might not fix custom log4j2 configs, but at least makes `SparkContext.setLogLevel` work with a hadoop-provided build",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1555905091/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1556043789",
    "html_url": "https://github.com/apache/spark/pull/41195#issuecomment-1556043789",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41195",
    "id": 1556043789,
    "node_id": "IC_kwDOAQXtWs5cv1gN",
    "user": {
      "login": "srowen",
      "id": 822522,
      "node_id": "MDQ6VXNlcjgyMjUyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/822522?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/srowen",
      "html_url": "https://github.com/srowen",
      "followers_url": "https://api.github.com/users/srowen/followers",
      "following_url": "https://api.github.com/users/srowen/following{/other_user}",
      "gists_url": "https://api.github.com/users/srowen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/srowen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/srowen/subscriptions",
      "organizations_url": "https://api.github.com/users/srowen/orgs",
      "repos_url": "https://api.github.com/users/srowen/repos",
      "events_url": "https://api.github.com/users/srowen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/srowen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-20T23:45:29Z",
    "updated_at": "2023-05-20T23:45:29Z",
    "author_association": "MEMBER",
    "body": "Merged to master",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1556043789/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
