[
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1454668297",
    "html_url": "https://github.com/apache/spark/pull/40268#issuecomment-1454668297",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40268",
    "id": 1454668297,
    "node_id": "IC_kwDOAQXtWs5WtHoJ",
    "user": {
      "login": "peter-toth",
      "id": 7253827,
      "node_id": "MDQ6VXNlcjcyNTM4Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7253827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peter-toth",
      "html_url": "https://github.com/peter-toth",
      "followers_url": "https://api.github.com/users/peter-toth/followers",
      "following_url": "https://api.github.com/users/peter-toth/following{/other_user}",
      "gists_url": "https://api.github.com/users/peter-toth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peter-toth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peter-toth/subscriptions",
      "organizations_url": "https://api.github.com/users/peter-toth/orgs",
      "repos_url": "https://api.github.com/users/peter-toth/repos",
      "events_url": "https://api.github.com/users/peter-toth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peter-toth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-04T08:54:02Z",
    "updated_at": "2023-03-04T08:54:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Tests look ok, removed WIP flag.\r\n\r\ncc @wangyum, @cloud-fan ",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1454668297/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1464116439",
    "html_url": "https://github.com/apache/spark/pull/40268#issuecomment-1464116439",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40268",
    "id": 1464116439,
    "node_id": "IC_kwDOAQXtWs5XRKTX",
    "user": {
      "login": "peter-toth",
      "id": 7253827,
      "node_id": "MDQ6VXNlcjcyNTM4Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7253827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peter-toth",
      "html_url": "https://github.com/peter-toth",
      "followers_url": "https://api.github.com/users/peter-toth/followers",
      "following_url": "https://api.github.com/users/peter-toth/following{/other_user}",
      "gists_url": "https://api.github.com/users/peter-toth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peter-toth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peter-toth/subscriptions",
      "organizations_url": "https://api.github.com/users/peter-toth/orgs",
      "repos_url": "https://api.github.com/users/peter-toth/repos",
      "events_url": "https://api.github.com/users/peter-toth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peter-toth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-10T17:13:51Z",
    "updated_at": "2023-03-10T17:13:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "@wangyum, @cloud-fan, do you think this PR is good enough or shall we go further with improvements?\r\nThe following features from https://github.com/apache/spark/pull/24553 are not in this PR currently to keep the change simple, but we can add them if needed:\r\n- Extend propagation from attribute => constant mapping to deterministic expression => constant mapping:\r\n  e.g. `abs(a) = 5 AND b = abs(a) + 3` => `abs(a) = 5 AND b = 8`\r\n- Allow substitution in other than `BinaryComparison`s:\r\n  e.g. `a = 5 AND abs(a) = 1` => `a = 5 AND abs(5) = 1`\r\n- Allow propagation of constant non-nullable expressions in `Project` and other nodes:\r\n  e.g. `SELECT a = 5 AND b = a + 3` => `SELECT a = 5 AND b = 8`\r\n  (Currently only `Filter` is supported.)\r\n- Allows deep constant propagation:\r\n  e.g. `WHERE IF(..., a = 5 AND b = a + 3, ...)` => `WHERE IF(..., a = 5 AND b = 8, ...)`\r\n  (Currently only top level `And`/`Or`/`Not` are supported.)\r\n\r\n@cloud-fan, I know you had concerns: https://github.com/apache/spark/pull/40093#discussion_r1121416560 and actually I'm not sure either how much performance improvement we could expect from the above 4 in real-life usecases...",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1464116439/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1478292434",
    "html_url": "https://github.com/apache/spark/pull/40268#issuecomment-1478292434",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40268",
    "id": 1478292434,
    "node_id": "IC_kwDOAQXtWs5YHPPS",
    "user": {
      "login": "peter-toth",
      "id": 7253827,
      "node_id": "MDQ6VXNlcjcyNTM4Mjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7253827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peter-toth",
      "html_url": "https://github.com/peter-toth",
      "followers_url": "https://api.github.com/users/peter-toth/followers",
      "following_url": "https://api.github.com/users/peter-toth/following{/other_user}",
      "gists_url": "https://api.github.com/users/peter-toth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peter-toth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peter-toth/subscriptions",
      "organizations_url": "https://api.github.com/users/peter-toth/orgs",
      "repos_url": "https://api.github.com/users/peter-toth/repos",
      "events_url": "https://api.github.com/users/peter-toth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peter-toth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-21T17:15:53Z",
    "updated_at": "2023-03-21T17:15:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cloud-fan, @wangyum please let me know if this PR needs further improvements.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1478292434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
