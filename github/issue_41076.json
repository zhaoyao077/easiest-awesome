{
  "url": "https://api.github.com/repos/apache/spark/issues/41076",
  "repository_url": "https://api.github.com/repos/apache/spark",
  "labels_url": "https://api.github.com/repos/apache/spark/issues/41076/labels{/name}",
  "comments_url": "https://api.github.com/repos/apache/spark/issues/41076/comments",
  "events_url": "https://api.github.com/repos/apache/spark/issues/41076/events",
  "html_url": "https://github.com/apache/spark/pull/41076",
  "id": 1698856857,
  "node_id": "PR_kwDOAQXtWs5P7XFc",
  "number": 41076,
  "title": "[SPARK-43396][CORE] Add config to control max ratio of decommissioning executors",
  "user": {
    "login": "warrenzhu25",
    "id": 1633312,
    "node_id": "MDQ6VXNlcjE2MzMzMTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1633312?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/warrenzhu25",
    "html_url": "https://github.com/warrenzhu25",
    "followers_url": "https://api.github.com/users/warrenzhu25/followers",
    "following_url": "https://api.github.com/users/warrenzhu25/following{/other_user}",
    "gists_url": "https://api.github.com/users/warrenzhu25/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/warrenzhu25/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/warrenzhu25/subscriptions",
    "organizations_url": "https://api.github.com/users/warrenzhu25/orgs",
    "repos_url": "https://api.github.com/users/warrenzhu25/repos",
    "events_url": "https://api.github.com/users/warrenzhu25/events{/privacy}",
    "received_events_url": "https://api.github.com/users/warrenzhu25/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1981527456,
      "node_id": "MDU6TGFiZWwxOTgxNTI3NDU2",
      "url": "https://api.github.com/repos/apache/spark/labels/CORE",
      "name": "CORE",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-05-07T02:25:22Z",
  "updated_at": "2023-05-07T23:05:29Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/apache/spark/pulls/41076",
    "html_url": "https://github.com/apache/spark/pull/41076",
    "diff_url": "https://github.com/apache/spark/pull/41076.diff",
    "patch_url": "https://github.com/apache/spark/pull/41076.patch",
    "merged_at": null
  },
  "body": "\r\n### What changes were proposed in this pull request?\r\nAdd config `spark.decommission.maxRatio` to control max ratio of decommissioning executors of running ones\r\n\r\n### Why are the changes needed?\r\nDecommission too many executors at the same time with shuffle or rdd migration could severely hurt performance of shuffle fetch. Block manager decommissioner try to migrate shuffle or rdd as soon as possible, this will compete network and disk IO with shuffle fetch in the target executor. \r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, added new config `spark.decommission.maxRatio`\r\n\r\n### How was this patch tested?\r\nAdded test in `ExecutorMonitorSuite`\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/apache/spark/issues/41076/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/apache/spark/issues/41076/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
