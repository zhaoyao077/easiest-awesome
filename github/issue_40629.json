{
  "url": "https://api.github.com/repos/apache/spark/issues/40629",
  "repository_url": "https://api.github.com/repos/apache/spark",
  "labels_url": "https://api.github.com/repos/apache/spark/issues/40629/labels{/name}",
  "comments_url": "https://api.github.com/repos/apache/spark/issues/40629/comments",
  "events_url": "https://api.github.com/repos/apache/spark/issues/40629/events",
  "html_url": "https://github.com/apache/spark/pull/40629",
  "id": 1650203672,
  "node_id": "PR_kwDOAQXtWs5NZWEa",
  "number": 40629,
  "title": "[SPARK-42980][CORE] Implement a lightweight SmallBroadcast",
  "user": {
    "login": "liuzqt",
    "id": 22358241,
    "node_id": "MDQ6VXNlcjIyMzU4MjQx",
    "avatar_url": "https://avatars.githubusercontent.com/u/22358241?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/liuzqt",
    "html_url": "https://github.com/liuzqt",
    "followers_url": "https://api.github.com/users/liuzqt/followers",
    "following_url": "https://api.github.com/users/liuzqt/following{/other_user}",
    "gists_url": "https://api.github.com/users/liuzqt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/liuzqt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/liuzqt/subscriptions",
    "organizations_url": "https://api.github.com/users/liuzqt/orgs",
    "repos_url": "https://api.github.com/users/liuzqt/repos",
    "events_url": "https://api.github.com/users/liuzqt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/liuzqt/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1981527456,
      "node_id": "MDU6TGFiZWwxOTgxNTI3NDU2",
      "url": "https://api.github.com/repos/apache/spark/labels/CORE",
      "name": "CORE",
      "color": "ededed",
      "default": false,
      "description": null
    },
    {
      "id": 1984378631,
      "node_id": "MDU6TGFiZWwxOTg0Mzc4NjMx",
      "url": "https://api.github.com/repos/apache/spark/labels/DSTREAM",
      "name": "DSTREAM",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 12,
  "created_at": "2023-04-01T00:24:34Z",
  "updated_at": "2023-04-25T22:58:19Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/apache/spark/pulls/40629",
    "html_url": "https://github.com/apache/spark/pull/40629",
    "diff_url": "https://github.com/apache/spark/pull/40629.diff",
    "patch_url": "https://github.com/apache/spark/pull/40629.patch",
    "merged_at": null
  },
  "body": "### What changes were proposed in this pull request?\r\nThe current TorrentBroadcast implementation is originally designed for large data transmission where driver might become the bottleneck and memory might also be the concern. Therefore it's kind of heavy and comes with some fixed overhead:\r\n\r\n- torrent protocol: more round traffic\r\n- disk level persistency, BlockManager, extra overhead\r\n\r\nwhich makes it inefficient for some small data transmission.\r\n\r\nWe can have a lightweight broadcast implementation, e.g, SmallBroadcast, which implement star-topology broadcast(which avoids the unnecessary round traffic), and maybe in-memory only.\r\n\r\nNote:\r\n\r\nThe current factory style API seem to encourage only one broadcast style on runtime, however this small broadcast implementation is a supplement to `TorrentBroadcast`. So I introduce new small broadcast APIs along the code path.\r\n\r\n### Why are the changes needed?\r\nProvide a lightweight implementation of `Broadcast`, which is suitable for situation where data size is small and latency is critical.\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNO\r\n\r\n\r\n### How was this patch tested?\r\n\r\nUnit test. More testcases are from `BroadcastSuite`\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/apache/spark/issues/40629/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/apache/spark/issues/40629/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
