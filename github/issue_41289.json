{
  "url": "https://api.github.com/repos/apache/spark/issues/41289",
  "repository_url": "https://api.github.com/repos/apache/spark",
  "labels_url": "https://api.github.com/repos/apache/spark/issues/41289/labels{/name}",
  "comments_url": "https://api.github.com/repos/apache/spark/issues/41289/comments",
  "events_url": "https://api.github.com/repos/apache/spark/issues/41289/events",
  "html_url": "https://github.com/apache/spark/pull/41289",
  "id": 1723070957,
  "node_id": "PR_kwDOAQXtWs5RMwdr",
  "number": 41289,
  "title": "[SPARK-43767][SQL][TESTS] Fix bug in AvroSuite for 'reading from invalid path throws exception'",
  "user": {
    "login": "panbingkun",
    "id": 15246973,
    "node_id": "MDQ6VXNlcjE1MjQ2OTcz",
    "avatar_url": "https://avatars.githubusercontent.com/u/15246973?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/panbingkun",
    "html_url": "https://github.com/panbingkun",
    "followers_url": "https://api.github.com/users/panbingkun/followers",
    "following_url": "https://api.github.com/users/panbingkun/following{/other_user}",
    "gists_url": "https://api.github.com/users/panbingkun/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/panbingkun/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/panbingkun/subscriptions",
    "organizations_url": "https://api.github.com/users/panbingkun/orgs",
    "repos_url": "https://api.github.com/users/panbingkun/repos",
    "events_url": "https://api.github.com/users/panbingkun/events{/privacy}",
    "received_events_url": "https://api.github.com/users/panbingkun/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1405794576,
      "node_id": "MDU6TGFiZWwxNDA1Nzk0NTc2",
      "url": "https://api.github.com/repos/apache/spark/labels/SQL",
      "name": "SQL",
      "color": "ededed",
      "default": false,
      "description": null
    },
    {
      "id": 1988040187,
      "node_id": "MDU6TGFiZWwxOTg4MDQwMTg3",
      "url": "https://api.github.com/repos/apache/spark/labels/AVRO",
      "name": "AVRO",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-05-24T02:24:19Z",
  "updated_at": "2023-05-24T04:10:54Z",
  "closed_at": "2023-05-24T04:10:36Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/apache/spark/pulls/41289",
    "html_url": "https://github.com/apache/spark/pull/41289",
    "diff_url": "https://github.com/apache/spark/pull/41289.diff",
    "patch_url": "https://github.com/apache/spark/pull/41289.patch",
    "merged_at": null
  },
  "body": "### What changes were proposed in this pull request?\r\nThe pr aims to fix bug in AvroSuite for 'reading from invalid path throws exception'.\r\n\r\n### Why are the changes needed?\r\n- As discussed and analyzed in [41271](https://github.com/apache/spark/pull/41271#issuecomment-1560355918)\r\n\r\n- There is a problem with this UT. Its original intention was to test if there is no file with .avro extensions in the directory, and the read should fail. However, this UT triggered the error as FileUtils.touch instead of spark.read.format(\"avro\").load(dir.toString).The root cause for the failure of this case is that the parent directory was not created. When FileUtils.touch is called in version 1.11.0, it just throws java.io.FileNotFoundException, which covers the error.\r\n\r\n\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo.\r\n\r\n### How was this patch tested?\r\nPass GA.",
  "closed_by": {
    "login": "dongjoon-hyun",
    "id": 9700541,
    "node_id": "MDQ6VXNlcjk3MDA1NDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9700541?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dongjoon-hyun",
    "html_url": "https://github.com/dongjoon-hyun",
    "followers_url": "https://api.github.com/users/dongjoon-hyun/followers",
    "following_url": "https://api.github.com/users/dongjoon-hyun/following{/other_user}",
    "gists_url": "https://api.github.com/users/dongjoon-hyun/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dongjoon-hyun/subscriptions",
    "organizations_url": "https://api.github.com/users/dongjoon-hyun/orgs",
    "repos_url": "https://api.github.com/users/dongjoon-hyun/repos",
    "events_url": "https://api.github.com/users/dongjoon-hyun/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dongjoon-hyun/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/apache/spark/issues/41289/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/apache/spark/issues/41289/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
