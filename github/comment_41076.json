[
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1537271924",
    "html_url": "https://github.com/apache/spark/pull/41076#issuecomment-1537271924",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41076",
    "id": 1537271924,
    "node_id": "IC_kwDOAQXtWs5boOh0",
    "user": {
      "login": "warrenzhu25",
      "id": 1633312,
      "node_id": "MDQ6VXNlcjE2MzMzMTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1633312?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/warrenzhu25",
      "html_url": "https://github.com/warrenzhu25",
      "followers_url": "https://api.github.com/users/warrenzhu25/followers",
      "following_url": "https://api.github.com/users/warrenzhu25/following{/other_user}",
      "gists_url": "https://api.github.com/users/warrenzhu25/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/warrenzhu25/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/warrenzhu25/subscriptions",
      "organizations_url": "https://api.github.com/users/warrenzhu25/orgs",
      "repos_url": "https://api.github.com/users/warrenzhu25/repos",
      "events_url": "https://api.github.com/users/warrenzhu25/events{/privacy}",
      "received_events_url": "https://api.github.com/users/warrenzhu25/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-07T02:25:47Z",
    "updated_at": "2023-05-07T02:25:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dongjoon-hyun @mridulm Help take a look?",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1537271924/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1537293952",
    "html_url": "https://github.com/apache/spark/pull/41076#issuecomment-1537293952",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41076",
    "id": 1537293952,
    "node_id": "IC_kwDOAQXtWs5boT6A",
    "user": {
      "login": "warrenzhu25",
      "id": 1633312,
      "node_id": "MDQ6VXNlcjE2MzMzMTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1633312?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/warrenzhu25",
      "html_url": "https://github.com/warrenzhu25",
      "followers_url": "https://api.github.com/users/warrenzhu25/followers",
      "following_url": "https://api.github.com/users/warrenzhu25/following{/other_user}",
      "gists_url": "https://api.github.com/users/warrenzhu25/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/warrenzhu25/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/warrenzhu25/subscriptions",
      "organizations_url": "https://api.github.com/users/warrenzhu25/orgs",
      "repos_url": "https://api.github.com/users/warrenzhu25/repos",
      "events_url": "https://api.github.com/users/warrenzhu25/events{/privacy}",
      "received_events_url": "https://api.github.com/users/warrenzhu25/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-07T05:18:38Z",
    "updated_at": "2023-05-07T05:18:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Thank you for pinging me. Could you improve this proposal more, @warrenzhu25 ?\r\n> \r\n> * This PR claims that data migration can hurt performance, but the code is applied in all cases including the case data migration (shuffle/rdd) is disabled. Moreover, in general, when the migration data size is small, the claim is invalid.\r\n> * In the same way, I can imagine this PR introduces another regression in terms of resource utilizations. For example, Spark Thrift Server can decommission all executors at the same time, but this configuration (< 0.1) may hurt the speed of scaling down.\r\n> * It would be great if we can have a clear documentation about the relationship between this and other decommission configs.\r\n\r\n`maxRatio` has default value 1, so it's same as current behavior. Users has full control of this ratio based on their judgement of storage migration size and impact.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1537293952/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1537541657",
    "html_url": "https://github.com/apache/spark/pull/41076#issuecomment-1537541657",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41076",
    "id": 1537541657,
    "node_id": "IC_kwDOAQXtWs5bpQYZ",
    "user": {
      "login": "dongjoon-hyun",
      "id": 9700541,
      "node_id": "MDQ6VXNlcjk3MDA1NDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9700541?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongjoon-hyun",
      "html_url": "https://github.com/dongjoon-hyun",
      "followers_url": "https://api.github.com/users/dongjoon-hyun/followers",
      "following_url": "https://api.github.com/users/dongjoon-hyun/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongjoon-hyun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongjoon-hyun/subscriptions",
      "organizations_url": "https://api.github.com/users/dongjoon-hyun/orgs",
      "repos_url": "https://api.github.com/users/dongjoon-hyun/repos",
      "events_url": "https://api.github.com/users/dongjoon-hyun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongjoon-hyun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-07T21:11:47Z",
    "updated_at": "2023-05-07T21:11:47Z",
    "author_association": "MEMBER",
    "body": "No, I'm not saying the default value. The default value should be 1.\r\n> maxRatio has default value 1, so it's same as current behavior. \r\n\r\nWhen the new configuration `maxRatio` itself is controversial in terms of the benefits, it's just a dark-magic to confuse the users to put into the mud holes. Why do we need to add this dark-magic configuration, @warrenzhu25 ?\r\n> Users has full control of this ratio based on their judgement of storage migration size and impact.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1537541657/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1537561161",
    "html_url": "https://github.com/apache/spark/pull/41076#issuecomment-1537561161",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41076",
    "id": 1537561161,
    "node_id": "IC_kwDOAQXtWs5bpVJJ",
    "user": {
      "login": "warrenzhu25",
      "id": 1633312,
      "node_id": "MDQ6VXNlcjE2MzMzMTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1633312?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/warrenzhu25",
      "html_url": "https://github.com/warrenzhu25",
      "followers_url": "https://api.github.com/users/warrenzhu25/followers",
      "following_url": "https://api.github.com/users/warrenzhu25/following{/other_user}",
      "gists_url": "https://api.github.com/users/warrenzhu25/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/warrenzhu25/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/warrenzhu25/subscriptions",
      "organizations_url": "https://api.github.com/users/warrenzhu25/orgs",
      "repos_url": "https://api.github.com/users/warrenzhu25/repos",
      "events_url": "https://api.github.com/users/warrenzhu25/events{/privacy}",
      "received_events_url": "https://api.github.com/users/warrenzhu25/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-07T23:03:36Z",
    "updated_at": "2023-05-07T23:03:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "> No, I'm not saying the default value. The default value should be 1.\r\n> \r\n> > maxRatio has default value 1, so it's same as current behavior.\r\n> \r\n> When the new configuration `maxRatio` itself is controversial in terms of the benefits, it's just a dark-magic to confuse the users to put into the mud holes. Why do we need to add this dark-magic configuration, @warrenzhu25 ?\r\n> \r\n> > Users has full control of this ratio based on their judgement of storage migration size and impact.\r\n\r\nI agree this config is not a perfect solution to solve this issue of migration competing with shuffle fetch. But it provides a feasible workaround to limit the impact of data migration. In our prod, using `maxRatio` of 0.3 could have similar perf as without shuffle migration while `maxRatio` of 0.5 or large has significant perf regression.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1537561161/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
