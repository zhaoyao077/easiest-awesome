[
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1514182487",
    "html_url": "https://github.com/apache/spark/pull/40843#issuecomment-1514182487",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40843",
    "id": 1514182487,
    "node_id": "IC_kwDOAQXtWs5aQJdX",
    "user": {
      "login": "otterc",
      "id": 4690923,
      "node_id": "MDQ6VXNlcjQ2OTA5MjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4690923?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/otterc",
      "html_url": "https://github.com/otterc",
      "followers_url": "https://api.github.com/users/otterc/followers",
      "following_url": "https://api.github.com/users/otterc/following{/other_user}",
      "gists_url": "https://api.github.com/users/otterc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/otterc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/otterc/subscriptions",
      "organizations_url": "https://api.github.com/users/otterc/orgs",
      "repos_url": "https://api.github.com/users/otterc/repos",
      "events_url": "https://api.github.com/users/otterc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/otterc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-19T06:10:05Z",
    "updated_at": "2023-04-19T06:10:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mridulm @tgravescs @zhouyejoe @akpatnam25 @shuwang21 Please help review",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1514182487/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1514901193",
    "html_url": "https://github.com/apache/spark/pull/40843#issuecomment-1514901193",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40843",
    "id": 1514901193,
    "node_id": "IC_kwDOAQXtWs5aS47J",
    "user": {
      "login": "mridulm",
      "id": 1591700,
      "node_id": "MDQ6VXNlcjE1OTE3MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1591700?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mridulm",
      "html_url": "https://github.com/mridulm",
      "followers_url": "https://api.github.com/users/mridulm/followers",
      "following_url": "https://api.github.com/users/mridulm/following{/other_user}",
      "gists_url": "https://api.github.com/users/mridulm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mridulm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mridulm/subscriptions",
      "organizations_url": "https://api.github.com/users/mridulm/orgs",
      "repos_url": "https://api.github.com/users/mridulm/repos",
      "events_url": "https://api.github.com/users/mridulm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mridulm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-19T15:04:52Z",
    "updated_at": "2023-04-19T15:04:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "+CC @attilapiros ",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1514901193/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1514983363",
    "html_url": "https://github.com/apache/spark/pull/40843#issuecomment-1514983363",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40843",
    "id": 1514983363,
    "node_id": "IC_kwDOAQXtWs5aTM_D",
    "user": {
      "login": "tgravescs",
      "id": 4563792,
      "node_id": "MDQ6VXNlcjQ1NjM3OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4563792?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tgravescs",
      "html_url": "https://github.com/tgravescs",
      "followers_url": "https://api.github.com/users/tgravescs/followers",
      "following_url": "https://api.github.com/users/tgravescs/following{/other_user}",
      "gists_url": "https://api.github.com/users/tgravescs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tgravescs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tgravescs/subscriptions",
      "organizations_url": "https://api.github.com/users/tgravescs/orgs",
      "repos_url": "https://api.github.com/users/tgravescs/repos",
      "events_url": "https://api.github.com/users/tgravescs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tgravescs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-19T15:59:08Z",
    "updated_at": "2023-04-19T15:59:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "so the intention here is it still uses external shuffle service but doesn't store the secret so if node manager goes down it can't recover that, correct?\r\n  \r\nPersonally I'm fine with adding this option, you also need to add documentation for this new configuration in .md file with explanation why you would want to disable it.  I'm wondering if we want something in the security doc about it.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1514983363/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1515102595",
    "html_url": "https://github.com/apache/spark/pull/40843#issuecomment-1515102595",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40843",
    "id": 1515102595,
    "node_id": "IC_kwDOAQXtWs5aTqGD",
    "user": {
      "login": "otterc",
      "id": 4690923,
      "node_id": "MDQ6VXNlcjQ2OTA5MjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4690923?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/otterc",
      "html_url": "https://github.com/otterc",
      "followers_url": "https://api.github.com/users/otterc/followers",
      "following_url": "https://api.github.com/users/otterc/following{/other_user}",
      "gists_url": "https://api.github.com/users/otterc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/otterc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/otterc/subscriptions",
      "organizations_url": "https://api.github.com/users/otterc/orgs",
      "repos_url": "https://api.github.com/users/otterc/repos",
      "events_url": "https://api.github.com/users/otterc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/otterc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-19T17:24:17Z",
    "updated_at": "2023-04-19T17:25:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "> so the intention here is it still uses external shuffle service but doesn't store the secret so if node manager goes down it can't recover that, correct?\r\n\r\nYes. Since, the secret is not encrypted, it is a security violation for some applications. If the NM goes down, the metadata of these apps will not be recovered but that is acceptable. \r\n\r\n> you also need to add documentation for this new configuration in .md file with explanation why you would want to disable it. I'm wondering if we want something in the security doc about it.\r\n\r\nI updated the `configuration.md` and `security.md` with the config. Let me know if I should add more explanation in the security doc.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1515102595/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1515895607",
    "html_url": "https://github.com/apache/spark/pull/40843#issuecomment-1515895607",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40843",
    "id": 1515895607,
    "node_id": "IC_kwDOAQXtWs5aWrs3",
    "user": {
      "login": "mridulm",
      "id": 1591700,
      "node_id": "MDQ6VXNlcjE1OTE3MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1591700?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mridulm",
      "html_url": "https://github.com/mridulm",
      "followers_url": "https://api.github.com/users/mridulm/followers",
      "following_url": "https://api.github.com/users/mridulm/following{/other_user}",
      "gists_url": "https://api.github.com/users/mridulm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mridulm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mridulm/subscriptions",
      "organizations_url": "https://api.github.com/users/mridulm/orgs",
      "repos_url": "https://api.github.com/users/mridulm/repos",
      "events_url": "https://api.github.com/users/mridulm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mridulm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-20T08:02:06Z",
    "updated_at": "2023-04-20T08:02:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Exactly that usecase @tgravescs.\r\nWe have usecases where applications require heightened security, and are fine with the recomputation cost due to lost shuffle data.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1515895607/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1517239197",
    "html_url": "https://github.com/apache/spark/pull/40843#issuecomment-1517239197",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40843",
    "id": 1517239197,
    "node_id": "IC_kwDOAQXtWs5abzud",
    "user": {
      "login": "attilapiros",
      "id": 2017933,
      "node_id": "MDQ6VXNlcjIwMTc5MzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2017933?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/attilapiros",
      "html_url": "https://github.com/attilapiros",
      "followers_url": "https://api.github.com/users/attilapiros/followers",
      "following_url": "https://api.github.com/users/attilapiros/following{/other_user}",
      "gists_url": "https://api.github.com/users/attilapiros/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/attilapiros/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/attilapiros/subscriptions",
      "organizations_url": "https://api.github.com/users/attilapiros/orgs",
      "repos_url": "https://api.github.com/users/attilapiros/repos",
      "events_url": "https://api.github.com/users/attilapiros/events{/privacy}",
      "received_events_url": "https://api.github.com/users/attilapiros/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-21T04:25:17Z",
    "updated_at": "2023-04-21T04:25:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "As we can run multiple external shuffle services on the same NM what about introducing just a new config for the whole external shuffle service controlling whether recovery is enabled.\r\n\r\nThen those applications with higher security can use the external shuffle service where the recovery is disabled.\r\n\r\nI think regarding code complexity and code size it would be a much better solution. WDYT?",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1517239197/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1517295269",
    "html_url": "https://github.com/apache/spark/pull/40843#issuecomment-1517295269",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40843",
    "id": 1517295269,
    "node_id": "IC_kwDOAQXtWs5acBal",
    "user": {
      "login": "otterc",
      "id": 4690923,
      "node_id": "MDQ6VXNlcjQ2OTA5MjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4690923?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/otterc",
      "html_url": "https://github.com/otterc",
      "followers_url": "https://api.github.com/users/otterc/followers",
      "following_url": "https://api.github.com/users/otterc/following{/other_user}",
      "gists_url": "https://api.github.com/users/otterc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/otterc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/otterc/subscriptions",
      "organizations_url": "https://api.github.com/users/otterc/orgs",
      "repos_url": "https://api.github.com/users/otterc/repos",
      "events_url": "https://api.github.com/users/otterc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/otterc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-21T05:49:26Z",
    "updated_at": "2023-04-21T05:49:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "> As we can run multiple external shuffle services on the same NM what about introducing just a new config for the whole external shuffle service controlling whether recovery is enabled.\r\n> \r\n> Then those applications with higher security can use the external shuffle service where the recovery is disabled.\r\n\r\nIt can be done but setting up and running  another shuffle service requires much more effort at least in our production environment. \r\n\r\n> I think regarding code complexity and code size it would be a much better solution. WDYT?\r\n\r\nThe code change here is quite small. Agreed that disabling recovery for the whole ESS may need much smaller change but there is not much complexity with this change as well.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1517295269/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1517841735",
    "html_url": "https://github.com/apache/spark/pull/40843#issuecomment-1517841735",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40843",
    "id": 1517841735,
    "node_id": "IC_kwDOAQXtWs5aeG1H",
    "user": {
      "login": "tgravescs",
      "id": 4563792,
      "node_id": "MDQ6VXNlcjQ1NjM3OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4563792?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tgravescs",
      "html_url": "https://github.com/tgravescs",
      "followers_url": "https://api.github.com/users/tgravescs/followers",
      "following_url": "https://api.github.com/users/tgravescs/following{/other_user}",
      "gists_url": "https://api.github.com/users/tgravescs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tgravescs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tgravescs/subscriptions",
      "organizations_url": "https://api.github.com/users/tgravescs/orgs",
      "repos_url": "https://api.github.com/users/tgravescs/repos",
      "events_url": "https://api.github.com/users/tgravescs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tgravescs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-21T13:32:25Z",
    "updated_at": "2023-04-21T13:32:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "lgtm",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1517841735/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1518125522",
    "html_url": "https://github.com/apache/spark/pull/40843#issuecomment-1518125522",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40843",
    "id": 1518125522,
    "node_id": "IC_kwDOAQXtWs5afMHS",
    "user": {
      "login": "mridulm",
      "id": 1591700,
      "node_id": "MDQ6VXNlcjE1OTE3MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1591700?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mridulm",
      "html_url": "https://github.com/mridulm",
      "followers_url": "https://api.github.com/users/mridulm/followers",
      "following_url": "https://api.github.com/users/mridulm/following{/other_user}",
      "gists_url": "https://api.github.com/users/mridulm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mridulm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mridulm/subscriptions",
      "organizations_url": "https://api.github.com/users/mridulm/orgs",
      "repos_url": "https://api.github.com/users/mridulm/repos",
      "events_url": "https://api.github.com/users/mridulm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mridulm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-21T17:22:28Z",
    "updated_at": "2023-04-21T17:22:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for fixing this @otterc !\r\nThanks for the reviews @tgravescs, @zhouyejoe :-)",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1518125522/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
