[
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1512422982",
    "html_url": "https://github.com/apache/spark/pull/40831#issuecomment-1512422982",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40831",
    "id": 1512422982,
    "node_id": "IC_kwDOAQXtWs5aJb5G",
    "user": {
      "login": "pan3793",
      "id": 26535726,
      "node_id": "MDQ6VXNlcjI2NTM1NzI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/26535726?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pan3793",
      "html_url": "https://github.com/pan3793",
      "followers_url": "https://api.github.com/users/pan3793/followers",
      "following_url": "https://api.github.com/users/pan3793/following{/other_user}",
      "gists_url": "https://api.github.com/users/pan3793/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pan3793/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pan3793/subscriptions",
      "organizations_url": "https://api.github.com/users/pan3793/orgs",
      "repos_url": "https://api.github.com/users/pan3793/repos",
      "events_url": "https://api.github.com/users/pan3793/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pan3793/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-18T04:38:36Z",
    "updated_at": "2023-04-18T04:38:36Z",
    "author_association": "MEMBER",
    "body": "`SPARK_USER_NAME` is introduced in SPARK-26015(https://github.com/apache/spark/pull/23017), and I guess supporting dynamic user name is one of the author initial intention",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1512422982/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1512423177",
    "html_url": "https://github.com/apache/spark/pull/40831#issuecomment-1512423177",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40831",
    "id": 1512423177,
    "node_id": "IC_kwDOAQXtWs5aJb8J",
    "user": {
      "login": "pan3793",
      "id": 26535726,
      "node_id": "MDQ6VXNlcjI2NTM1NzI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/26535726?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pan3793",
      "html_url": "https://github.com/pan3793",
      "followers_url": "https://api.github.com/users/pan3793/followers",
      "following_url": "https://api.github.com/users/pan3793/following{/other_user}",
      "gists_url": "https://api.github.com/users/pan3793/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pan3793/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pan3793/subscriptions",
      "organizations_url": "https://api.github.com/users/pan3793/orgs",
      "repos_url": "https://api.github.com/users/pan3793/repos",
      "events_url": "https://api.github.com/users/pan3793/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pan3793/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-18T04:38:58Z",
    "updated_at": "2023-04-18T04:38:58Z",
    "author_association": "MEMBER",
    "body": "cc @Yikun",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1512423177/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1512541064",
    "html_url": "https://github.com/apache/spark/pull/40831#issuecomment-1512541064",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40831",
    "id": 1512541064,
    "node_id": "IC_kwDOAQXtWs5aJ4uI",
    "user": {
      "login": "pan3793",
      "id": 26535726,
      "node_id": "MDQ6VXNlcjI2NTM1NzI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/26535726?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pan3793",
      "html_url": "https://github.com/pan3793",
      "followers_url": "https://api.github.com/users/pan3793/followers",
      "following_url": "https://api.github.com/users/pan3793/following{/other_user}",
      "gists_url": "https://api.github.com/users/pan3793/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pan3793/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pan3793/subscriptions",
      "organizations_url": "https://api.github.com/users/pan3793/orgs",
      "repos_url": "https://api.github.com/users/pan3793/repos",
      "events_url": "https://api.github.com/users/pan3793/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pan3793/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-18T06:56:54Z",
    "updated_at": "2023-04-18T06:56:54Z",
    "author_association": "MEMBER",
    "body": "@Yikun I suppose it's a K8s-only feature.\r\n\r\nAs mentioned in the PR description, the main purpose is to reduce the gap between Spark on YARN and K8s, to allow users seamlessly migrate Spark jobs from YARN to K8s.\r\n\r\nI don't have much knowledge about docker/container technology, and I agree w/ you it looks not easy to dynamically switch user based on the Docker Official Image rule",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1512541064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1512824480",
    "html_url": "https://github.com/apache/spark/pull/40831#issuecomment-1512824480",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40831",
    "id": 1512824480,
    "node_id": "IC_kwDOAQXtWs5aK96g",
    "user": {
      "login": "pan3793",
      "id": 26535726,
      "node_id": "MDQ6VXNlcjI2NTM1NzI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/26535726?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pan3793",
      "html_url": "https://github.com/pan3793",
      "followers_url": "https://api.github.com/users/pan3793/followers",
      "following_url": "https://api.github.com/users/pan3793/following{/other_user}",
      "gists_url": "https://api.github.com/users/pan3793/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pan3793/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pan3793/subscriptions",
      "organizations_url": "https://api.github.com/users/pan3793/orgs",
      "repos_url": "https://api.github.com/users/pan3793/repos",
      "events_url": "https://api.github.com/users/pan3793/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pan3793/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-18T10:20:31Z",
    "updated_at": "2023-04-18T10:20:31Z",
    "author_association": "MEMBER",
    "body": "Also cc @yaooqinn ",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1512824480/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1515680101",
    "html_url": "https://github.com/apache/spark/pull/40831#issuecomment-1515680101",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40831",
    "id": 1515680101,
    "node_id": "IC_kwDOAQXtWs5aV3Fl",
    "user": {
      "login": "Yikun",
      "id": 1736354,
      "node_id": "MDQ6VXNlcjE3MzYzNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1736354?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yikun",
      "html_url": "https://github.com/Yikun",
      "followers_url": "https://api.github.com/users/Yikun/followers",
      "following_url": "https://api.github.com/users/Yikun/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yikun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yikun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yikun/subscriptions",
      "organizations_url": "https://api.github.com/users/Yikun/orgs",
      "repos_url": "https://api.github.com/users/Yikun/repos",
      "events_url": "https://api.github.com/users/Yikun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yikun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-20T04:01:15Z",
    "updated_at": "2023-04-20T04:01:15Z",
    "author_association": "MEMBER",
    "body": "Just for others reviewer infomation, I also wanna share some considerations about this (also include some idea in offline discussion with @pan3793 ):\r\n1. (-0.5) As per docker official recommendation about [USER](https://docs.docker.com/develop/develop-images/dockerfile_best-practices/#user), we should use `groupadd` and `useradd` to address, rather than change `/etc/passwd` directly. If we specify the USER (useradd/groupadd) in Dockerfile in future, this change will be ignored.\r\n2. (-0.5) In theory, application users should be decoupled from container users. Such as, spark docker image should use static user `spark` (just like we done in spark-docker), and other application respect the `spark` user, or donâ€™t depends on the container user.\r\n3. (+0.5) As per https://github.com/apache/spark/pull/23017 original design, it was intend to switch user name dynamically.\r\n4. (+0.5) Consider the Spark case, there are many users want to migrate YARN to K8s easily, support user dynamic switch is a reasonable case.\r\n5. (+0.5) It's a K8s only feature, not for Docker image, so 1 / 2 could be balanced in some level.\r\n\r\nSo, I am +0.5 on this PR. : )",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1515680101/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1526441574",
    "html_url": "https://github.com/apache/spark/pull/40831#issuecomment-1526441574",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40831",
    "id": 1526441574,
    "node_id": "IC_kwDOAQXtWs5a-6Zm",
    "user": {
      "login": "DerekTBrown",
      "id": 6845676,
      "node_id": "MDQ6VXNlcjY4NDU2NzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6845676?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DerekTBrown",
      "html_url": "https://github.com/DerekTBrown",
      "followers_url": "https://api.github.com/users/DerekTBrown/followers",
      "following_url": "https://api.github.com/users/DerekTBrown/following{/other_user}",
      "gists_url": "https://api.github.com/users/DerekTBrown/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DerekTBrown/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DerekTBrown/subscriptions",
      "organizations_url": "https://api.github.com/users/DerekTBrown/orgs",
      "repos_url": "https://api.github.com/users/DerekTBrown/repos",
      "events_url": "https://api.github.com/users/DerekTBrown/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DerekTBrown/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-27T20:54:40Z",
    "updated_at": "2023-04-27T20:54:40Z",
    "author_association": "NONE",
    "body": "@pan3793 are we good to merge?",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1526441574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1527304010",
    "html_url": "https://github.com/apache/spark/pull/40831#issuecomment-1527304010",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40831",
    "id": 1527304010,
    "node_id": "IC_kwDOAQXtWs5bCM9K",
    "user": {
      "login": "pan3793",
      "id": 26535726,
      "node_id": "MDQ6VXNlcjI2NTM1NzI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/26535726?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pan3793",
      "html_url": "https://github.com/pan3793",
      "followers_url": "https://api.github.com/users/pan3793/followers",
      "following_url": "https://api.github.com/users/pan3793/following{/other_user}",
      "gists_url": "https://api.github.com/users/pan3793/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pan3793/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pan3793/subscriptions",
      "organizations_url": "https://api.github.com/users/pan3793/orgs",
      "repos_url": "https://api.github.com/users/pan3793/repos",
      "events_url": "https://api.github.com/users/pan3793/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pan3793/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-28T09:58:53Z",
    "updated_at": "2023-04-28T09:58:53Z",
    "author_association": "MEMBER",
    "body": "> Do you think you can add an integration test case in order to prevent a future regression, @pan3793 ?\r\n\r\nSure, IT is added.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1527304010/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1533967009",
    "html_url": "https://github.com/apache/spark/pull/40831#issuecomment-1533967009",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/40831",
    "id": 1533967009,
    "node_id": "IC_kwDOAQXtWs5bbnqh",
    "user": {
      "login": "pan3793",
      "id": 26535726,
      "node_id": "MDQ6VXNlcjI2NTM1NzI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/26535726?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pan3793",
      "html_url": "https://github.com/pan3793",
      "followers_url": "https://api.github.com/users/pan3793/followers",
      "following_url": "https://api.github.com/users/pan3793/following{/other_user}",
      "gists_url": "https://api.github.com/users/pan3793/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pan3793/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pan3793/subscriptions",
      "organizations_url": "https://api.github.com/users/pan3793/orgs",
      "repos_url": "https://api.github.com/users/pan3793/repos",
      "events_url": "https://api.github.com/users/pan3793/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pan3793/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-04T01:46:59Z",
    "updated_at": "2023-05-04T01:46:59Z",
    "author_association": "MEMBER",
    "body": "@Yikun @dongjoon-hyun would you please take a look again?",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1533967009/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
