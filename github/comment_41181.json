[
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1549019299",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1549019299",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1549019299,
    "node_id": "IC_kwDOAQXtWs5cVCij",
    "user": {
      "login": "pan3793",
      "id": 26535726,
      "node_id": "MDQ6VXNlcjI2NTM1NzI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/26535726?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pan3793",
      "html_url": "https://github.com/pan3793",
      "followers_url": "https://api.github.com/users/pan3793/followers",
      "following_url": "https://api.github.com/users/pan3793/following{/other_user}",
      "gists_url": "https://api.github.com/users/pan3793/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pan3793/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pan3793/subscriptions",
      "organizations_url": "https://api.github.com/users/pan3793/orgs",
      "repos_url": "https://api.github.com/users/pan3793/repos",
      "events_url": "https://api.github.com/users/pan3793/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pan3793/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-16T05:38:20Z",
    "updated_at": "2023-05-16T05:38:20Z",
    "author_association": "MEMBER",
    "body": "I encountered the same issues w/ Spark 3.3.1. This sounds like a regression (I suppose it works before SPARK-25815, I don't have experience w/ running such an old version of Spark on K8s).\r\n\r\nThe key point is that the executor needs to download artifacts during the bootstrap phase, so the assumption in SPARK-25815 is not always true.\r\n\r\n> adding the Hadoop config to the executor pods: this is not needed\r\n> since the Spark driver will serialize the Hadoop config and send\r\n> it to executors when running tasks.\r\n\r\nGiven the executor use `SparkHadoopUtil.get.newConfiguration(conf)` to construct Hadoop conf,  we can put the related hdfs/s3 configurations into `spark-defaults.conf` w/ `spark.hadoop.` prefix as a workaround.\r\n\r\nhttps://github.com/apache/spark/blob/0df4c01b7c4d4476fe0de9dccb3425cc1295fc85/core/src/main/scala/org/apache/spark/executor/Executor.scala#L1006-L1012\r\n\r\nThis PR definitely fixes some use cases, @turboFei would you mind updating \"Does this PR introduce any user-facing change?\"",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1549019299/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1549024117",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1549024117",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1549024117,
    "node_id": "IC_kwDOAQXtWs5cVDt1",
    "user": {
      "login": "turboFei",
      "id": 6757692,
      "node_id": "MDQ6VXNlcjY3NTc2OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6757692?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/turboFei",
      "html_url": "https://github.com/turboFei",
      "followers_url": "https://api.github.com/users/turboFei/followers",
      "following_url": "https://api.github.com/users/turboFei/following{/other_user}",
      "gists_url": "https://api.github.com/users/turboFei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/turboFei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/turboFei/subscriptions",
      "organizations_url": "https://api.github.com/users/turboFei/orgs",
      "repos_url": "https://api.github.com/users/turboFei/repos",
      "events_url": "https://api.github.com/users/turboFei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/turboFei/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-16T05:45:27Z",
    "updated_at": "2023-05-16T05:45:27Z",
    "author_association": "MEMBER",
    "body": "> would you mind updating \"Does this PR introduce any user-facing change?\"\r\n\r\nupdated",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1549024117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1549820782",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1549820782",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1549820782,
    "node_id": "IC_kwDOAQXtWs5cYGNu",
    "user": {
      "login": "turboFei",
      "id": 6757692,
      "node_id": "MDQ6VXNlcjY3NTc2OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6757692?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/turboFei",
      "html_url": "https://github.com/turboFei",
      "followers_url": "https://api.github.com/users/turboFei/followers",
      "following_url": "https://api.github.com/users/turboFei/following{/other_user}",
      "gists_url": "https://api.github.com/users/turboFei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/turboFei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/turboFei/subscriptions",
      "organizations_url": "https://api.github.com/users/turboFei/orgs",
      "repos_url": "https://api.github.com/users/turboFei/repos",
      "events_url": "https://api.github.com/users/turboFei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/turboFei/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-16T14:46:23Z",
    "updated_at": "2023-05-16T14:46:23Z",
    "author_association": "MEMBER",
    "body": "seems the k8s integration testing is stuck, will check this pr in our dev hadoop cluster tomorrow.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1549820782/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1550791604",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1550791604",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1550791604,
    "node_id": "IC_kwDOAQXtWs5cbzO0",
    "user": {
      "login": "turboFei",
      "id": 6757692,
      "node_id": "MDQ6VXNlcjY3NTc2OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6757692?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/turboFei",
      "html_url": "https://github.com/turboFei",
      "followers_url": "https://api.github.com/users/turboFei/followers",
      "following_url": "https://api.github.com/users/turboFei/following{/other_user}",
      "gists_url": "https://api.github.com/users/turboFei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/turboFei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/turboFei/subscriptions",
      "organizations_url": "https://api.github.com/users/turboFei/orgs",
      "repos_url": "https://api.github.com/users/turboFei/repos",
      "events_url": "https://api.github.com/users/turboFei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/turboFei/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-17T06:07:00Z",
    "updated_at": "2023-05-17T06:07:08Z",
    "author_association": "MEMBER",
    "body": "thanks for the comments, I will check it",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1550791604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1550797386",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1550797386",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1550797386,
    "node_id": "IC_kwDOAQXtWs5cb0pK",
    "user": {
      "login": "advancedxy",
      "id": 807537,
      "node_id": "MDQ6VXNlcjgwNzUzNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/807537?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/advancedxy",
      "html_url": "https://github.com/advancedxy",
      "followers_url": "https://api.github.com/users/advancedxy/followers",
      "following_url": "https://api.github.com/users/advancedxy/following{/other_user}",
      "gists_url": "https://api.github.com/users/advancedxy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/advancedxy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/advancedxy/subscriptions",
      "organizations_url": "https://api.github.com/users/advancedxy/orgs",
      "repos_url": "https://api.github.com/users/advancedxy/repos",
      "events_url": "https://api.github.com/users/advancedxy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/advancedxy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-17T06:13:24Z",
    "updated_at": "2023-05-17T07:36:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Thank you for making a PR, @turboFei .\r\n> \r\n> However, this PR might cause a outage because the number of configMap is controlled by quota.\r\n> \r\n> ```\r\n> $ kubectl describe quota | grep configmaps\r\n> count/configmaps                                                  4     150\r\n> ```\r\n> \r\n> To avoid the production outage, this should be under a new configuration with `false` by default at least.\r\n\r\n150 is a bit small for serious production usage, we may add this note in the `running_on_k8s.md`  documentation.\r\n\r\nAnd BTW, this PR doesn't create new ConfigMaps, it either uses a user pre-set config map (no creation) or just reuse the config map created by driver which is created if necessary. ",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1550797386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1550976280",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1550976280",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1550976280,
    "node_id": "IC_kwDOAQXtWs5ccgUY",
    "user": {
      "login": "turboFei",
      "id": 6757692,
      "node_id": "MDQ6VXNlcjY3NTc2OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6757692?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/turboFei",
      "html_url": "https://github.com/turboFei",
      "followers_url": "https://api.github.com/users/turboFei/followers",
      "following_url": "https://api.github.com/users/turboFei/following{/other_user}",
      "gists_url": "https://api.github.com/users/turboFei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/turboFei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/turboFei/subscriptions",
      "organizations_url": "https://api.github.com/users/turboFei/orgs",
      "repos_url": "https://api.github.com/users/turboFei/repos",
      "events_url": "https://api.github.com/users/turboFei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/turboFei/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-17T08:29:53Z",
    "updated_at": "2023-05-17T08:29:53Z",
    "author_association": "MEMBER",
    "body": "> this PR doesn't create new ConfigMaps, it either uses a user pre-set config map (no creation) or just reuse the config map created by driver which is created if necessary.\r\n\r\nyes, this PR doesn't create new ConfigMap.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1550976280/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1550983146",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1550983146",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1550983146,
    "node_id": "IC_kwDOAQXtWs5cch_q",
    "user": {
      "login": "dongjoon-hyun",
      "id": 9700541,
      "node_id": "MDQ6VXNlcjk3MDA1NDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9700541?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongjoon-hyun",
      "html_url": "https://github.com/dongjoon-hyun",
      "followers_url": "https://api.github.com/users/dongjoon-hyun/followers",
      "following_url": "https://api.github.com/users/dongjoon-hyun/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongjoon-hyun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongjoon-hyun/subscriptions",
      "organizations_url": "https://api.github.com/users/dongjoon-hyun/orgs",
      "repos_url": "https://api.github.com/users/dongjoon-hyun/repos",
      "events_url": "https://api.github.com/users/dongjoon-hyun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongjoon-hyun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-17T08:35:00Z",
    "updated_at": "2023-05-17T08:35:00Z",
    "author_association": "MEMBER",
    "body": "Oh, got it. Thank you for correcting me.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1550983146/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1551118696",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1551118696",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1551118696,
    "node_id": "IC_kwDOAQXtWs5cdDFo",
    "user": {
      "login": "turboFei",
      "id": 6757692,
      "node_id": "MDQ6VXNlcjY3NTc2OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6757692?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/turboFei",
      "html_url": "https://github.com/turboFei",
      "followers_url": "https://api.github.com/users/turboFei/followers",
      "following_url": "https://api.github.com/users/turboFei/following{/other_user}",
      "gists_url": "https://api.github.com/users/turboFei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/turboFei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/turboFei/subscriptions",
      "organizations_url": "https://api.github.com/users/turboFei/orgs",
      "repos_url": "https://api.github.com/users/turboFei/repos",
      "events_url": "https://api.github.com/users/turboFei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/turboFei/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-17T10:10:40Z",
    "updated_at": "2023-05-17T10:10:40Z",
    "author_association": "MEMBER",
    "body": "the UT has passed, gentle ping @dongjoon-hyun ",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1551118696/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1551222246",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1551222246",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1551222246,
    "node_id": "IC_kwDOAQXtWs5cdcXm",
    "user": {
      "login": "turboFei",
      "id": 6757692,
      "node_id": "MDQ6VXNlcjY3NTc2OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6757692?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/turboFei",
      "html_url": "https://github.com/turboFei",
      "followers_url": "https://api.github.com/users/turboFei/followers",
      "following_url": "https://api.github.com/users/turboFei/following{/other_user}",
      "gists_url": "https://api.github.com/users/turboFei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/turboFei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/turboFei/subscriptions",
      "organizations_url": "https://api.github.com/users/turboFei/orgs",
      "repos_url": "https://api.github.com/users/turboFei/repos",
      "events_url": "https://api.github.com/users/turboFei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/turboFei/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-17T11:29:02Z",
    "updated_at": "2023-05-17T11:29:22Z",
    "author_association": "MEMBER",
    "body": "thanks @advancedxy\r\nadded more UT to check `additionalPodSystemProperties` and executor pod.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1551222246/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1552365072",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1552365072",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1552365072,
    "node_id": "IC_kwDOAQXtWs5chzYQ",
    "user": {
      "login": "turboFei",
      "id": 6757692,
      "node_id": "MDQ6VXNlcjY3NTc2OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6757692?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/turboFei",
      "html_url": "https://github.com/turboFei",
      "followers_url": "https://api.github.com/users/turboFei/followers",
      "following_url": "https://api.github.com/users/turboFei/following{/other_user}",
      "gists_url": "https://api.github.com/users/turboFei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/turboFei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/turboFei/subscriptions",
      "organizations_url": "https://api.github.com/users/turboFei/orgs",
      "repos_url": "https://api.github.com/users/turboFei/repos",
      "events_url": "https://api.github.com/users/turboFei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/turboFei/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-18T03:53:59Z",
    "updated_at": "2023-05-18T03:53:59Z",
    "author_association": "MEMBER",
    "body": "gentle ping @dongjoon-hyun would you like to review again? thanks",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1552365072/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1554062154",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1554062154",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1554062154,
    "node_id": "IC_kwDOAQXtWs5coRtK",
    "user": {
      "login": "yaooqinn",
      "id": 8326978,
      "node_id": "MDQ6VXNlcjgzMjY5Nzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8326978?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yaooqinn",
      "html_url": "https://github.com/yaooqinn",
      "followers_url": "https://api.github.com/users/yaooqinn/followers",
      "following_url": "https://api.github.com/users/yaooqinn/following{/other_user}",
      "gists_url": "https://api.github.com/users/yaooqinn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yaooqinn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yaooqinn/subscriptions",
      "organizations_url": "https://api.github.com/users/yaooqinn/orgs",
      "repos_url": "https://api.github.com/users/yaooqinn/repos",
      "events_url": "https://api.github.com/users/yaooqinn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yaooqinn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T06:14:03Z",
    "updated_at": "2023-05-19T06:14:03Z",
    "author_association": "MEMBER",
    "body": "The Hadoop configurations can be propagated after https://github.com/apache/spark/pull/27735. And putting and locating extra configuration files in SPARK_HOME/conf is also a suggested way from our docs, so is this step necessary?\r\n\r\nAlternatively, if both exist, what is the precedence between them? Is it idempotent?",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1554062154/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1556452364",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1556452364",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1556452364,
    "node_id": "IC_kwDOAQXtWs5cxZQM",
    "user": {
      "login": "turboFei",
      "id": 6757692,
      "node_id": "MDQ6VXNlcjY3NTc2OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6757692?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/turboFei",
      "html_url": "https://github.com/turboFei",
      "followers_url": "https://api.github.com/users/turboFei/followers",
      "following_url": "https://api.github.com/users/turboFei/following{/other_user}",
      "gists_url": "https://api.github.com/users/turboFei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/turboFei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/turboFei/subscriptions",
      "organizations_url": "https://api.github.com/users/turboFei/orgs",
      "repos_url": "https://api.github.com/users/turboFei/repos",
      "events_url": "https://api.github.com/users/turboFei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/turboFei/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-22T03:05:18Z",
    "updated_at": "2023-05-22T03:41:53Z",
    "author_association": "MEMBER",
    "body": "> And putting and locating extra configuration files in SPARK_HOME/conf is also a suggested way from our docs, so is this step necessary?\r\n\r\nI think it is necessary.\r\n\r\nHadoop and spark are different components, it is better to maintain them separately.\r\n\r\nIn our company, we have conf version for hadoop conf, so we do not put hadoop config files under SPARK_HOME/conf, we use soft link to manage the hadoop conf.\r\n\r\n\r\n> Alternatively, if both exist, what is the precedence between them? Is it idempotent?\r\n\r\nIn this pr, it just mounts the hadoop config map in the executor side(mounts HADOOP_CONF_DIR env) and the hadoop conf mounted is absolute same with that in driver pod.\r\n\r\nAs shown below, the SPARK_CONF_DIR has higher precedence. I think it is idempotent.\r\nhttps://github.com/apache/spark/blob/e096bce604ed6fab37713437ac0d985673910537/resource-managers/kubernetes/docker/src/main/dockerfiles/spark/entrypoint.sh#L68-L76\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1556452364/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1558479516",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1558479516",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1558479516,
    "node_id": "IC_kwDOAQXtWs5c5IKc",
    "user": {
      "login": "turboFei",
      "id": 6757692,
      "node_id": "MDQ6VXNlcjY3NTc2OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6757692?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/turboFei",
      "html_url": "https://github.com/turboFei",
      "followers_url": "https://api.github.com/users/turboFei/followers",
      "following_url": "https://api.github.com/users/turboFei/following{/other_user}",
      "gists_url": "https://api.github.com/users/turboFei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/turboFei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/turboFei/subscriptions",
      "organizations_url": "https://api.github.com/users/turboFei/orgs",
      "repos_url": "https://api.github.com/users/turboFei/repos",
      "events_url": "https://api.github.com/users/turboFei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/turboFei/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-23T03:55:37Z",
    "updated_at": "2023-05-23T03:55:37Z",
    "author_association": "MEMBER",
    "body": "gentle ping @yaooqinn @dongjoon-hyun ",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1558479516/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1558489805",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1558489805",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1558489805,
    "node_id": "IC_kwDOAQXtWs5c5KrN",
    "user": {
      "login": "yaooqinn",
      "id": 8326978,
      "node_id": "MDQ6VXNlcjgzMjY5Nzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8326978?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yaooqinn",
      "html_url": "https://github.com/yaooqinn",
      "followers_url": "https://api.github.com/users/yaooqinn/followers",
      "following_url": "https://api.github.com/users/yaooqinn/following{/other_user}",
      "gists_url": "https://api.github.com/users/yaooqinn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yaooqinn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yaooqinn/subscriptions",
      "organizations_url": "https://api.github.com/users/yaooqinn/orgs",
      "repos_url": "https://api.github.com/users/yaooqinn/repos",
      "events_url": "https://api.github.com/users/yaooqinn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yaooqinn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-23T04:09:12Z",
    "updated_at": "2023-05-23T04:09:12Z",
    "author_association": "MEMBER",
    "body": "> Hadoop and spark are different components, it is better to maintain them separately.\r\n\r\nI do not fully agree. In the early days, Hadoop may be special. We have a specific code path to read HADOOP_CONF_DIR. But now Hadoop is an option, as we have other options for storage and scheduling, especially on the cloud or Kubernetes.\r\n\r\nMaybe we shall treat it like hive configurations or other third-party components to reduce the maintenance burden and complexity of the deployment.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1558489805/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1558506309",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1558506309",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1558506309,
    "node_id": "IC_kwDOAQXtWs5c5OtF",
    "user": {
      "login": "turboFei",
      "id": 6757692,
      "node_id": "MDQ6VXNlcjY3NTc2OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6757692?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/turboFei",
      "html_url": "https://github.com/turboFei",
      "followers_url": "https://api.github.com/users/turboFei/followers",
      "following_url": "https://api.github.com/users/turboFei/following{/other_user}",
      "gists_url": "https://api.github.com/users/turboFei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/turboFei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/turboFei/subscriptions",
      "organizations_url": "https://api.github.com/users/turboFei/orgs",
      "repos_url": "https://api.github.com/users/turboFei/repos",
      "events_url": "https://api.github.com/users/turboFei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/turboFei/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-23T04:35:07Z",
    "updated_at": "2023-05-23T04:44:13Z",
    "author_association": "MEMBER",
    "body": "> Maybe we shall treat it like hive configurations or other third-party components to reduce the maintenance burden and complexity of the deployment.\r\n\r\nI believe different companies treat hadoop conf differently.\r\n\r\nFor ebay, we add conf version for hadoop conf, because it is used by\r\n- public  hadoop client nodes\r\n- private hadoop client nodes\r\n- hadoop service nodes(nn, rm, hms, kyuubi)\r\n- hadoop slave nodes(nm, dn)\r\n\r\nand between different conf versions, there might be incompatibilities. \r\n\r\n<img width=\"974\" alt=\"image\" src=\"https://github.com/apache/spark/assets/6757692/83d503bf-bbfb-4ede-80e9-120ad8a24b38\">\r\n\r\nand we have an RESTful service to download the hdaoop conf and we use soft link to manage them locally.\r\n\r\nRecently, we are making spark migration, from spark3 + hadoop2 to spark3 + hadoop3.\r\n\r\nFor hadoop2 and hadoop3, the hadoop confs are even different.\r\n\r\nSo to manage the hadoop conf well and due to the current situation,  in ebay, we do not want to put the hadoop conf files and spark conf files together.\r\n\r\n\r\n> treat it like hive configurations or other third-party components to reduce the maintenance burden and complexity of the deployment.\r\n\r\nyes, I agree, it makes it easy.",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1558506309/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1562256974",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1562256974",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1562256974,
    "node_id": "IC_kwDOAQXtWs5dHiZO",
    "user": {
      "login": "infoankitp",
      "id": 38865949,
      "node_id": "MDQ6VXNlcjM4ODY1OTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/38865949?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/infoankitp",
      "html_url": "https://github.com/infoankitp",
      "followers_url": "https://api.github.com/users/infoankitp/followers",
      "following_url": "https://api.github.com/users/infoankitp/following{/other_user}",
      "gists_url": "https://api.github.com/users/infoankitp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/infoankitp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/infoankitp/subscriptions",
      "organizations_url": "https://api.github.com/users/infoankitp/orgs",
      "repos_url": "https://api.github.com/users/infoankitp/repos",
      "events_url": "https://api.github.com/users/infoankitp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/infoankitp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-25T04:40:52Z",
    "updated_at": "2023-05-25T04:40:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "I can also help with a use case for this, usually the submission client is on a single environment (Lets say we have it on cloud), and with spark on k8s, we can easily run jobs in different envs like in private Cloud Clusters being submitted from public Cloud. Where we would need diff properties to be passed for the submission client as well as for drivers and executors. This is also a use case where mounting the hadoopConfMap in executors would help in making the task easy to maintain the configs. ",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1562256974/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/apache/spark/issues/comments/1562455824",
    "html_url": "https://github.com/apache/spark/pull/41181#issuecomment-1562455824",
    "issue_url": "https://api.github.com/repos/apache/spark/issues/41181",
    "id": 1562455824,
    "node_id": "IC_kwDOAQXtWs5dIS8Q",
    "user": {
      "login": "turboFei",
      "id": 6757692,
      "node_id": "MDQ6VXNlcjY3NTc2OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6757692?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/turboFei",
      "html_url": "https://github.com/turboFei",
      "followers_url": "https://api.github.com/users/turboFei/followers",
      "following_url": "https://api.github.com/users/turboFei/following{/other_user}",
      "gists_url": "https://api.github.com/users/turboFei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/turboFei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/turboFei/subscriptions",
      "organizations_url": "https://api.github.com/users/turboFei/orgs",
      "repos_url": "https://api.github.com/users/turboFei/repos",
      "events_url": "https://api.github.com/users/turboFei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/turboFei/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-25T07:59:07Z",
    "updated_at": "2023-05-25T07:59:07Z",
    "author_association": "MEMBER",
    "body": "> I can also help with a use case for this, usually the submission client is on a single environment (Lets say we have it on cloud), and with spark on k8s, we can easily run jobs in different envs like in private Cloud Clusters being submitted from public Cloud. Where we would need diff properties to be passed for the submission client as well as for drivers and executors. This is also a use case where mounting the hadoopConfMap in executors would help in making the task easy to maintain the configs.\r\n\r\n\r\nYes, I think this pr is general for hadoop conf use case, and it does not create more resource because it just use the existing config map.\r\n\r\n@yaooqinn @dongjoon-hyun could you help to take another look? Appreciated for your help.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/apache/spark/issues/comments/1562455824/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
