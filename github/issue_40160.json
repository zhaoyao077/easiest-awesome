{
  "url": "https://api.github.com/repos/apache/spark/issues/40160",
  "repository_url": "https://api.github.com/repos/apache/spark",
  "labels_url": "https://api.github.com/repos/apache/spark/issues/40160/labels{/name}",
  "comments_url": "https://api.github.com/repos/apache/spark/issues/40160/comments",
  "events_url": "https://api.github.com/repos/apache/spark/issues/40160/events",
  "html_url": "https://github.com/apache/spark/pull/40160",
  "id": 1598792444,
  "node_id": "PR_kwDOAQXtWs5KtZUn",
  "number": 40160,
  "title": "[SPARK-41725][CONNECT] Eager Execution of DF.sql()",
  "user": {
    "login": "grundprinzip",
    "id": 3421,
    "node_id": "MDQ6VXNlcjM0MjE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3421?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/grundprinzip",
    "html_url": "https://github.com/grundprinzip",
    "followers_url": "https://api.github.com/users/grundprinzip/followers",
    "following_url": "https://api.github.com/users/grundprinzip/following{/other_user}",
    "gists_url": "https://api.github.com/users/grundprinzip/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/grundprinzip/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/grundprinzip/subscriptions",
    "organizations_url": "https://api.github.com/users/grundprinzip/orgs",
    "repos_url": "https://api.github.com/users/grundprinzip/repos",
    "events_url": "https://api.github.com/users/grundprinzip/events{/privacy}",
    "received_events_url": "https://api.github.com/users/grundprinzip/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1405794576,
      "node_id": "MDU6TGFiZWwxNDA1Nzk0NTc2",
      "url": "https://api.github.com/repos/apache/spark/labels/SQL",
      "name": "SQL",
      "color": "ededed",
      "default": false,
      "description": null
    },
    {
      "id": 1981527456,
      "node_id": "MDU6TGFiZWwxOTgxNTI3NDU2",
      "url": "https://api.github.com/repos/apache/spark/labels/CORE",
      "name": "CORE",
      "color": "ededed",
      "default": false,
      "description": null
    },
    {
      "id": 1982260031,
      "node_id": "MDU6TGFiZWwxOTgyMjYwMDMx",
      "url": "https://api.github.com/repos/apache/spark/labels/PYTHON",
      "name": "PYTHON",
      "color": "ededed",
      "default": false,
      "description": null
    },
    {
      "id": 4556440342,
      "node_id": "LA_kwDOAQXtWs8AAAABD5XDFg",
      "url": "https://api.github.com/repos/apache/spark/labels/CONNECT",
      "name": "CONNECT",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-02-24T14:59:33Z",
  "updated_at": "2023-04-21T11:57:00Z",
  "closed_at": "2023-03-01T08:56:40Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/apache/spark/pulls/40160",
    "html_url": "https://github.com/apache/spark/pull/40160",
    "diff_url": "https://github.com/apache/spark/pull/40160.diff",
    "patch_url": "https://github.com/apache/spark/pull/40160.patch",
    "merged_at": null
  },
  "body": "### What changes were proposed in this pull request?\r\n\r\nThis patch allows for eager execution of SQL statements using the Spark Connect Data Frame API.  The implementation of the patch is as follows: When `spark.sql` is called, the client sends a command to the server including the SQL statement. The server will evaluate the query and execute the side-effects if necessary. If the query was a command it will return the results as a `Relaiton.LocalRelation` back to the client otherwise it will return a `Relation.SQL` to the client. The client then simply forwards the received payload to the next operator.\r\n\r\n\r\n\r\n### Why are the changes needed?\r\nCompatibility\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nNo\r\n\r\n### How was this patch tested?\r\nUT",
  "closed_by": {
    "login": "zhengruifeng",
    "id": 7322292,
    "node_id": "MDQ6VXNlcjczMjIyOTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7322292?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zhengruifeng",
    "html_url": "https://github.com/zhengruifeng",
    "followers_url": "https://api.github.com/users/zhengruifeng/followers",
    "following_url": "https://api.github.com/users/zhengruifeng/following{/other_user}",
    "gists_url": "https://api.github.com/users/zhengruifeng/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zhengruifeng/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zhengruifeng/subscriptions",
    "organizations_url": "https://api.github.com/users/zhengruifeng/orgs",
    "repos_url": "https://api.github.com/users/zhengruifeng/repos",
    "events_url": "https://api.github.com/users/zhengruifeng/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zhengruifeng/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/apache/spark/issues/40160/reactions",
    "total_count": 1,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 1,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/apache/spark/issues/40160/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
