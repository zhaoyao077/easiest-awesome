{
  "url": "https://api.github.com/repos/apache/spark/issues/41083",
  "repository_url": "https://api.github.com/repos/apache/spark",
  "labels_url": "https://api.github.com/repos/apache/spark/issues/41083/labels{/name}",
  "comments_url": "https://api.github.com/repos/apache/spark/issues/41083/comments",
  "events_url": "https://api.github.com/repos/apache/spark/issues/41083/events",
  "html_url": "https://github.com/apache/spark/pull/41083",
  "id": 1699203147,
  "node_id": "PR_kwDOAQXtWs5P8dsE",
  "number": 41083,
  "title": "[SPARK-43399][CORE] Add config to control threshold of unregister map ouput when fetch failed",
  "user": {
    "login": "warrenzhu25",
    "id": 1633312,
    "node_id": "MDQ6VXNlcjE2MzMzMTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1633312?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/warrenzhu25",
    "html_url": "https://github.com/warrenzhu25",
    "followers_url": "https://api.github.com/users/warrenzhu25/followers",
    "following_url": "https://api.github.com/users/warrenzhu25/following{/other_user}",
    "gists_url": "https://api.github.com/users/warrenzhu25/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/warrenzhu25/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/warrenzhu25/subscriptions",
    "organizations_url": "https://api.github.com/users/warrenzhu25/orgs",
    "repos_url": "https://api.github.com/users/warrenzhu25/repos",
    "events_url": "https://api.github.com/users/warrenzhu25/events{/privacy}",
    "received_events_url": "https://api.github.com/users/warrenzhu25/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1981527456,
      "node_id": "MDU6TGFiZWwxOTgxNTI3NDU2",
      "url": "https://api.github.com/repos/apache/spark/labels/CORE",
      "name": "CORE",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2023-05-07T19:29:10Z",
  "updated_at": "2023-05-18T18:16:24Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/apache/spark/pulls/41083",
    "html_url": "https://github.com/apache/spark/pull/41083",
    "diff_url": "https://github.com/apache/spark/pull/41083.diff",
    "patch_url": "https://github.com/apache/spark/pull/41083.patch",
    "merged_at": null
  },
  "body": "### What changes were proposed in this pull request?\r\nAdd the config `spark.files.fetchFailure.unRegisterOutputThreshold` to control the number of fetch failed failures needed for one specific executor to unregister map output on this executor and allow to disable unregister.\r\n\r\n### Why are the changes needed?\r\nSpark will unregister map output on the executor when fetch failed from this executor. This might be too aggressive when fetch failed is temporary and recoverable, especially when re-computation is more expensive than retry failed fetch.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes. Added the config `spark.files.fetchFailure.unRegisterOutputThreshold`\r\n\r\n### How was this patch tested?\r\nAdded test in `DAGSchedulerSuite`\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/apache/spark/issues/41083/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/apache/spark/issues/41083/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
