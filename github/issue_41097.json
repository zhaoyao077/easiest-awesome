{
  "url": "https://api.github.com/repos/apache/spark/issues/41097",
  "repository_url": "https://api.github.com/repos/apache/spark",
  "labels_url": "https://api.github.com/repos/apache/spark/issues/41097/labels{/name}",
  "comments_url": "https://api.github.com/repos/apache/spark/issues/41097/comments",
  "events_url": "https://api.github.com/repos/apache/spark/issues/41097/events",
  "html_url": "https://github.com/apache/spark/pull/41097",
  "id": 1701197131,
  "node_id": "PR_kwDOAQXtWs5QDN8o",
  "number": 41097,
  "title": "[SPARK-43418][CONNECT] Add SparkSession.Builder.getOrCreate",
  "user": {
    "login": "hvanhovell",
    "id": 9616802,
    "node_id": "MDQ6VXNlcjk2MTY4MDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9616802?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hvanhovell",
    "html_url": "https://github.com/hvanhovell",
    "followers_url": "https://api.github.com/users/hvanhovell/followers",
    "following_url": "https://api.github.com/users/hvanhovell/following{/other_user}",
    "gists_url": "https://api.github.com/users/hvanhovell/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hvanhovell/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hvanhovell/subscriptions",
    "organizations_url": "https://api.github.com/users/hvanhovell/orgs",
    "repos_url": "https://api.github.com/users/hvanhovell/repos",
    "events_url": "https://api.github.com/users/hvanhovell/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hvanhovell/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1405794576,
      "node_id": "MDU6TGFiZWwxNDA1Nzk0NTc2",
      "url": "https://api.github.com/repos/apache/spark/labels/SQL",
      "name": "SQL",
      "color": "ededed",
      "default": false,
      "description": null
    },
    {
      "id": 4556440342,
      "node_id": "LA_kwDOAQXtWs8AAAABD5XDFg",
      "url": "https://api.github.com/repos/apache/spark/labels/CONNECT",
      "name": "CONNECT",
      "color": "ededed",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-05-09T02:15:33Z",
  "updated_at": "2023-05-09T19:15:03Z",
  "closed_at": "2023-05-09T19:14:56Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/apache/spark/pulls/41097",
    "html_url": "https://github.com/apache/spark/pull/41097",
    "diff_url": "https://github.com/apache/spark/pull/41097.diff",
    "patch_url": "https://github.com/apache/spark/pull/41097.patch",
    "merged_at": null
  },
  "body": "### What changes were proposed in this pull request?\r\nThis PR adds `SparkSession.Builder.getOrCreate()` to the scala client. `getOrCreate` is used in many existing examples so it is good to support it.\r\n\r\nSpark Connect is a bit different from the old API in that it allows you to connect to multiple servers in the same process. This means that we cannot entirely match the existing semantics (one session for all). I opted to cache a number of `SparkSessions`, and make `getOrCreate` return a cached session if they share the same client configuration.  I have also added a `create()` method for cases where you want a newly instantiated session.\r\n\r\n### Why are the changes needed?\r\nImprove compatibility with the existing code.\r\n\r\n### Does this PR introduce _any_ user-facing change?\r\nYes, it adds API.\r\n\r\n### How was this patch tested?\r\nAdded tests for this.",
  "closed_by": {
    "login": "hvanhovell",
    "id": 9616802,
    "node_id": "MDQ6VXNlcjk2MTY4MDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9616802?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hvanhovell",
    "html_url": "https://github.com/hvanhovell",
    "followers_url": "https://api.github.com/users/hvanhovell/followers",
    "following_url": "https://api.github.com/users/hvanhovell/following{/other_user}",
    "gists_url": "https://api.github.com/users/hvanhovell/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hvanhovell/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hvanhovell/subscriptions",
    "organizations_url": "https://api.github.com/users/hvanhovell/orgs",
    "repos_url": "https://api.github.com/users/hvanhovell/repos",
    "events_url": "https://api.github.com/users/hvanhovell/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hvanhovell/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/apache/spark/issues/41097/reactions",
    "total_count": 1,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 1,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/apache/spark/issues/41097/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
